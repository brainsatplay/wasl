{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.github.com/brainsatplay/wasl/versions/0.0.0/module.schema.json",
    "title": "Module",
    "description": "The composable units of the graph",
    "type": "object",
    "anyOf": [
        {
            "properties": {
                "src": {
                    "anyOf": [
                        {
                            "type": "string",
                            "format": "uri-reference"
                        },
                        {
                            "type": "object",
                            "$ref": "component.schema.json"
                        },
                        {
                            "type": "object",
                            "$comment": "The raw JSON",
                            "properties": {
                                "default": {
                                    "description": "The stringified stateless function that this node uses to handle upstream information in the graph"
                                },

                                "tagName": {
                                    "type": "string"
                                },
                                "style": {
                                    "anyOf": [
                                        {
                                            "type": "string",
                                            "format": "uri-reference"
                                        },
                                        {
                                            "type": "object"
                                        }
                                    ]
                                },
                                "attributes": {
                                    "type": "object",
                                    "description": "A set of HTML Element events for the node to listen to",
                                    "patternProperties": {
                                        "^on(.+)$": {
                                            "description": "A stringified function to handle an event"
                                        }
                                    }
                                },
                                "oncreate": {
                                    "description": "A stringified function that responds to when this node's information is rendered as an HTML element"
                                }
                            },
                            "required": [
                                "default"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "language": {
                                    "type": "string"
                                },
                                "text": {
                                    "type": "string"
                                }
                            },
                            "additionalProperties": false
                        }
                    ]
                },
                "href": {
                    "anyOf": [
                        {
                            "type": "string"
                        }
                    ]
                },
                "extensions": {
                    "type": "object",
                    "patternProperties": {
                        "^.*$": {
                            "type": "object",
                            "patternProperties": {
                                "^.*$": {}
                            },
                            "additionalProperties": false
                        }
                    },
                    "additionalProperties": false
                },
                "overrides": {
                    "type": "object",
                    "patternProperties": {
                        "^.*$": {
                            "type": "object",
                            "patternProperties": {
                                "^.*$": {}
                            },
                            "additionalProperties": false
                        }
                    },
                    "additionalProperties": false
                },

                "children": {
                    "description": "The connections for this node",
                    "type": "object",
                    "patternProperties": {
                      "^([^.]+)(.[^.]+)*?$": {
                        "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                  },

                "arguments": {
                    "type": [
                        "object",
                        "array"
                    ],
                    "$comment": "Generated by wasl.load"
                }
            }
        },
        {
            "type": "object",
            "$ref": "component.schema.json"
        }
    ]
}